@using Microsoft.Data.SqlClient.DataClassification
@model UserAdminViewModel

@{
    ViewData["Title"] = "Machine Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h4>Current Machines - @DateTime.Today.ToString("D")</h4>
<br />
<table>
    <tr>
        <td>
            <input type="button" class="btn btn-primary" value="Add New Machine" onclick="location.href = '@Url.Action("AddMachines", "UserAdmin")'" />
            <input class="btn btn-primary" type="button" value="Save complete report" onclick="location.href = '@Url.Action("GenerateMyMachinesReport", "UserAdmin")'"/>
        </td>
    </tr>
    <tr>
        <td>
            @{
                if ((string) TempData["Success"] == "true")
                {
                    <label class="text-danger">Added new machine</label>
                }
            }
        </td>
    </tr>
</table>
<br />

<table class="mytable">
    <thead>
    <tr>
        <th>
            <label>ID</label>
        </th>
        <th>
            <label>Model Number</label>
        </th>
        <th>
            <label>Type</label>
        </th>
        <th>
            <label>Installation Date</label>
        </th>
    </tr>
    </thead>
    @foreach (var item in Model.MyMachines)
    {
        <tbody>
        <tr>

            <td>
                @Html.DisplayFor(modelItem => item.MachineId)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ModelNumber)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Type)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.InstallationDate)
            </td>
            <td>
                <form method="post">
                    <input type="image" src="~/Images/redx.jpg" formaction="/UserAdmin/DeleteMachines">
                    <input type="hidden" name="MachineToDel" value="@item.MachineId"/>
                </form>
            </td>
        </tr>
        </tbody>
    }
</table>